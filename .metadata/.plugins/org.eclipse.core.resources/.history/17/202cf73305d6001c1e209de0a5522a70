/*
 * Console.c
 *
 *  Created on: 17-May-2022
 *      Author: Kunal
 */


#include "Console.h"


int Console_Init(int32_t baudrate)
{
	RCC -> APB2ENR |= RCC_APB2ENR_USART1EN;
	GPIO_Pin_Setup(GPIOA, 9, 0b1011);
	GPIO_Pin_Setup(GPIOA, 10, 0b1011);
	USART1 -> CR1 |= USART_CR1_UE;
	USART1 -> BRR = (int)(SystemCoreClock / (16 * baudrate)) << 4;
	USART1 -> CR1 |= USART_CR1_TE ;
	USART1 -> CR1 |=  USART_CR1_RE  ;
}
